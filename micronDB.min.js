var micronDB=function(){return{db:[],hashTraverse:function(e,t){if(this.db[e]){for(var n=0;n<this.db[e].length;++n){var r=t(this.db[e][n]);if(r){return r}}return false}return false},calcIndex:function(e){var t=0;for(var n=0;n<e.length;++n){t+=e.charCodeAt(n)}return t%50},exists:function(e){var t=this.calcIndex(e);return this.hashTraverse(t,function(t){if(t.id==e){return true}})},hash:function(e){if(!this.exists(e)){var t=this.calcIndex(e.id);if(this.db[t]){this.db[t][this.db[t].length]=e;return true}else{this.db[t]=[];this.db[t][this.db[t].length]=e;return true}}else{return false}},get:function(e){var t=this.calcIndex(e);return this.hashTraverse(t,function(t){if(t.id==e){return t}})},remove:function(e){var t=this.calcIndex(e);return this.hashTraverse(t,function(t){if(t.id==e){t=undefined;if(!t){return true}return false}})},match:{where:function(e,t){for(var n in t){if(typeof e[n]!="undefined"){if(typeof e[n]=="function"){if(e[n](t[n])===true){return t}}else if(t[n]==e[n]){return t}}}return false}},traverse:function(e,t,n){var r=function(e,n){var i=[];for(var s=0;s<n.length;++s){if(Array.isArray(n[s])){var o=r(e,n[s]);if(o.length>0){if(Array.isArray(o)&&o.length<2){i[i.length]=o[0]}else{i[i.length]=o}}}else if(t(e,n[s])){i[i.length]=t(e,n[s])}}return i};var i=[];var s=0;var o=function(e,t,n,o){if(typeof n[o]!="undefined"&&typeof o!="number"){if(!s){i=r(e,t)}else{if(i.length>0){i=r(e,i)}}}++s};var u=function(e,t,n,s){if(typeof n[s]!="undefined"&&typeof s!="number"){var o=r(e,t);if(i.length>0){var u=function(e,t){for(var n=0;n<t.length;++n){if(t[n]==e){return true}}return false};for(var a=0;a<o.length;++a){if(!u(o[a],i)){i[i.length]=o[a]}}}else{i=r(e,t)}}};for(var a in e){if(a=="$and"){s=0}var f={};f[a]=e[a];if(a=="$or"||a=="$and"){for(var l in f[a]){var c={};c[l]=f[a][l];if(a=="$or"){u(c,n,f[a],l)}else{o(c,n,f[a],l)}}}else{o(f,n,e,a)}}return i},insert:function(e){this.hash(e)},query:function(e){var t;for(var n in e){if(typeof this.match[n]!="undefined"){if(undefined===t){t=this.traverse(e[n],this.match[n],this.db)}else{t=this.traverse(e[n],this.match[n],t)}}}return t}}}
/*           )
             
c            (
o        )   )
p        (
y    .---------------------.
r    |        _____        |___      
i    |     .'`_,-._`'.      __ \
g    |    /  ( [ ] )  \    |  ||
h    |   /.-""`( )`""-.\   |  ||
t    |  ' <'```(.)```'> '  | _||
     |    <'```(.)```'>    |/ _/
2    |     <'``(.)``'>      ./
0    |      <``\_/``>      |
1    |       `'---'`       |
4    \github.com/trillobite/              
       \_________________/      Keep it black*/